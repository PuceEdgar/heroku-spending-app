{"ast":null,"code":"var _jsxFileName = \"/Users/edgarspuce/React/spending-tool/src/MaterialUITable.js\";\nimport React from \"react\";\nimport MaterialTable from \"material-table\";\nexport default function MaterialTableDemo(props) {\n  const {\n    name,\n    items,\n    handleSubmit\n  } = props;\n  const [data, setData] = React.useState([]); //table data\n\n  React.useEffect(() => {\n    return () => {\n      setData(items);\n    };\n  });\n  const columns = [{\n    title: \"ID\",\n    field: \"id\"\n  }, {\n    title: \"Type\",\n    field: \"type\"\n  }, {\n    title: \"Place\",\n    field: \"place\"\n  }, {\n    title: \"Amount\",\n    field: \"amount\",\n    type: \"numeric\"\n  }]; //   const [state, setState] = React.useState({\n  //     columns: [\n  //       { title: \"ID\", field: \"id\" },\n  //       { title: \"Type\", field: \"type\" },\n  //       { title: \"Place\", field: \"place\" },\n  //       { title: \"Amount\", field: \"amount\", type: \"numeric\" },\n  //     ],\n  //   });\n\n  const handleRowAdd = (newData, resolve) => {\n    handleSubmit(newData);\n    resolve(); // api\n    //   .post(\"/users\", newData)\n    //   .then((res) => {\n    //     let dataToAdd = [...data];\n    //     dataToAdd.push(newData);\n    //     setData(dataToAdd);\n    //     resolve();\n    //   })\n    //   .catch((error) => {\n    //     resolve();\n    //});\n  };\n\n  const handleRowUpdate = (newData, oldData, resolve) => {\n    console.log(\"row updated: \" + newData); //   api.patch(\"/users/\"+newData.id, newData)\n    //     .then(res => {\n    //       const dataUpdate = [...data];\n    //       const index = oldData.tableData.id;\n    //       dataUpdate[index] = newData;\n    //       setData([...dataUpdate]);\n    //       resolve()\n    //     })\n    //     .catch(error => {\n    //       resolve()\n    //   })\n  };\n\n  const handleRowDelete = (oldData, resolve) => {\n    api.delete(\"/users/\" + oldData.id).then(res => {\n      const dataDelete = [...data];\n      const index = oldData.tableData.id;\n      dataDelete.splice(index, 1);\n      setData([...dataDelete]);\n      resolve();\n    }).catch(error => {\n      setErrorMessages([\"Delete failed! Server error\"]);\n      setIserror(true);\n      resolve();\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(MaterialTable, {\n    title: \"User list from API\",\n    columns: columns,\n    data: data,\n    editable: {\n      onRowUpdate: (newData, oldData) => new Promise(resolve => {\n        handleRowUpdate(newData, oldData, resolve);\n      }),\n      onRowAdd: newData => new Promise(resolve => {\n        handleRowAdd(newData, resolve);\n      }),\n      onRowDelete: oldData => new Promise(resolve => {\n        handleRowDelete(oldData, resolve);\n      })\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }\n  }) // <MaterialTable\n  //   options={{\n  //     search: false,\n  //   }}\n  //   title={name}\n  //   columns={state.columns}\n  //   data={data}\n  //   editable={{\n  //     onRowAdd: (newData) =>\n  //       new Promise((resolve) => {\n  //         setTimeout(() => {\n  //           resolve();\n  //           setData((prevData) => {\n  //             const data = [...prevData];\n  //             data.push(newData);\n  //             return { ...prevData, data };\n  //           });\n  //         }, 600);\n  //       }),\n  //     onRowUpdate: (newData, oldData) =>\n  //       new Promise((resolve) => {\n  //         setTimeout(() => {\n  //           resolve();\n  //           if (oldData) {\n  //             setData((prevData) => {\n  //               const data = [...prevData];\n  //               data[data.indexOf(oldData)] = newData;\n  //               return { ...prevData, data };\n  //             });\n  //           }\n  //         }, 600);\n  //       }),\n  //     onRowDelete: (oldData) =>\n  //       new Promise((resolve) => {\n  //         setTimeout(() => {\n  //           resolve();\n  //           setData((prevData) => {\n  //             const data = [...prevData];\n  //             data.splice(data.indexOf(oldData), 1);\n  //             return { ...prevData, data };\n  //           });\n  //         }, 600);\n  //       }),\n  //   }}\n  // />\n  ;\n}","map":{"version":3,"sources":["/Users/edgarspuce/React/spending-tool/src/MaterialUITable.js"],"names":["React","MaterialTable","MaterialTableDemo","props","name","items","handleSubmit","data","setData","useState","useEffect","columns","title","field","type","handleRowAdd","newData","resolve","handleRowUpdate","oldData","console","log","handleRowDelete","api","delete","id","then","res","dataDelete","index","tableData","splice","catch","error","setErrorMessages","setIserror","onRowUpdate","Promise","onRowAdd","onRowDelete"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport MaterialTable from \"material-table\";\n\nexport default function MaterialTableDemo(props) {\n  const { name, items, handleSubmit } = props;\n\n  const [data, setData] = React.useState([]); //table data\n\n  React.useEffect(() => {\n    return () => {\n      setData(items);\n    };\n  });\n  const columns = [\n    { title: \"ID\", field: \"id\" },\n    { title: \"Type\", field: \"type\" },\n    { title: \"Place\", field: \"place\" },\n    { title: \"Amount\", field: \"amount\", type: \"numeric\" },\n  ];\n\n  //   const [state, setState] = React.useState({\n  //     columns: [\n  //       { title: \"ID\", field: \"id\" },\n  //       { title: \"Type\", field: \"type\" },\n  //       { title: \"Place\", field: \"place\" },\n  //       { title: \"Amount\", field: \"amount\", type: \"numeric\" },\n  //     ],\n  //   });\n\n  const handleRowAdd = (newData, resolve) => {\n    handleSubmit(newData);\n    resolve();\n    // api\n    //   .post(\"/users\", newData)\n    //   .then((res) => {\n    //     let dataToAdd = [...data];\n    //     dataToAdd.push(newData);\n    //     setData(dataToAdd);\n    //     resolve();\n    //   })\n    //   .catch((error) => {\n    //     resolve();\n    //});\n  };\n\n  const handleRowUpdate = (newData, oldData, resolve) => {\n    console.log(\"row updated: \" + newData);\n    //   api.patch(\"/users/\"+newData.id, newData)\n    //     .then(res => {\n    //       const dataUpdate = [...data];\n    //       const index = oldData.tableData.id;\n    //       dataUpdate[index] = newData;\n    //       setData([...dataUpdate]);\n    //       resolve()\n\n    //     })\n    //     .catch(error => {\n\n    //       resolve()\n    //   })\n  };\n\n  const handleRowDelete = (oldData, resolve) => {\n    api\n      .delete(\"/users/\" + oldData.id)\n      .then((res) => {\n        const dataDelete = [...data];\n        const index = oldData.tableData.id;\n        dataDelete.splice(index, 1);\n        setData([...dataDelete]);\n        resolve();\n      })\n      .catch((error) => {\n        setErrorMessages([\"Delete failed! Server error\"]);\n        setIserror(true);\n        resolve();\n      });\n  };\n\n  return (\n    <MaterialTable\n      title=\"User list from API\"\n      columns={columns}\n      data={data}\n      editable={{\n        onRowUpdate: (newData, oldData) =>\n          new Promise((resolve) => {\n            handleRowUpdate(newData, oldData, resolve);\n          }),\n        onRowAdd: (newData) =>\n          new Promise((resolve) => {\n            handleRowAdd(newData, resolve);\n          }),\n        onRowDelete: (oldData) =>\n          new Promise((resolve) => {\n            handleRowDelete(oldData, resolve);\n          }),\n      }}\n    />\n    // <MaterialTable\n    //   options={{\n    //     search: false,\n    //   }}\n    //   title={name}\n    //   columns={state.columns}\n    //   data={data}\n    //   editable={{\n    //     onRowAdd: (newData) =>\n    //       new Promise((resolve) => {\n    //         setTimeout(() => {\n    //           resolve();\n    //           setData((prevData) => {\n    //             const data = [...prevData];\n    //             data.push(newData);\n    //             return { ...prevData, data };\n    //           });\n    //         }, 600);\n    //       }),\n    //     onRowUpdate: (newData, oldData) =>\n    //       new Promise((resolve) => {\n    //         setTimeout(() => {\n    //           resolve();\n    //           if (oldData) {\n    //             setData((prevData) => {\n    //               const data = [...prevData];\n    //               data[data.indexOf(oldData)] = newData;\n    //               return { ...prevData, data };\n    //             });\n    //           }\n    //         }, 600);\n    //       }),\n    //     onRowDelete: (oldData) =>\n    //       new Promise((resolve) => {\n    //         setTimeout(() => {\n    //           resolve();\n    //           setData((prevData) => {\n    //             const data = [...prevData];\n    //             data.splice(data.indexOf(oldData), 1);\n    //             return { ...prevData, data };\n    //           });\n    //         }, 600);\n    //       }),\n    //   }}\n    // />\n  );\n}\n"]},"metadata":{},"sourceType":"module"}