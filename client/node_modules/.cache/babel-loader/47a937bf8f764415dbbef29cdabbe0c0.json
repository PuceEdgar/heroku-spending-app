{"ast":null,"code":"import _toConsumableArray from\"/Users/edgarspuce/React/heroku-spending-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/edgarspuce/React/heroku-spending-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"/Users/edgarspuce/React/heroku-spending-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React,{useState,useEffect}from\"react\";import SwipeableViews from\"react-swipeable-views\";import{makeStyles,useTheme}from\"@material-ui/core/styles\";import AppBar from\"@material-ui/core/AppBar\";import Tabs from\"@material-ui/core/Tabs\";import Tab from\"@material-ui/core/Tab\";import Typography from\"@material-ui/core/Typography\";import Box from\"@material-ui/core/Box\";import MaterialTable from\"./MaterialTable\";import Total,{GetTotal}from\"../Utilities/Total\";import Paper from\"@material-ui/core/Paper\";import{AddItemButton}from\"../ModalButtons\";import{GetItemsByType}from\"../Utilities/Functions\";import{getData}from\"../Data/ApiCalls\";import moment from\"moment\";function TabPanel(props){var children=props.children,value=props.value,index=props.index,other=_objectWithoutProperties(props,[\"children\",\"value\",\"index\"]);return/*#__PURE__*/React.createElement(\"div\",Object.assign({role:\"tabpanel\",hidden:value!==index,id:\"full-width-tabpanel-\".concat(index),\"aria-labelledby\":\"full-width-tab-\".concat(index)},other),value===index&&/*#__PURE__*/React.createElement(Box,{p:3},/*#__PURE__*/React.createElement(Typography,null,children)));}function a11yProps(index){return{id:\"full-width-tab-\".concat(index),\"aria-controls\":\"full-width-tabpanel-\".concat(index)};}var useStyles=makeStyles(function(theme){return{root:{backgroundColor:theme.palette.background.paper// width: 900,\n}};});export default function MaterialTabs(){var classes=useStyles();var theme=useTheme();var _useState=useState(0),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),items=_useState4[0],setItems=_useState4[1];var incomming=1500;useEffect(function(){console.log('est');getData().then(function(val){console.log(moment().month());var spendingMonth=val.filter(function(item,i){return new Date(item.date).getMonth()===moment().month();});setItems(spendingMonth);});},[]);function addData(data){fetch(\"http://localhost:9000/additem\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(data)}).then(function(response){return response.json();}).then(function(data){var sortedActivities=data.sort(function(a,b){return new Date(b.date)-new Date(a.date);});var spendingMonth=sortedActivities.filter(function(item,i){return new Date(item.date).getMonth()===moment().month();});setItems(spendingMonth);}).catch(function(error){console.error(\"Error:\",error);});}function handleSubmit(item){var idArray=items.map(function(item){return item.id;});var maxId=Math.max.apply(Math,_toConsumableArray(idArray));item.id=maxId+1;addData(item);}function updateData(data){fetch(\"http://localhost:9000/updateitem\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(data)}).then(function(response){return response.json();}).then(function(data){var sortedActivities=data.sort(function(a,b){return new Date(b.date)-new Date(a.date);});var spendingMonth=sortedActivities.filter(function(item,i){return new Date(item.date).getMonth()===moment().month();});setItems(spendingMonth);}).catch(function(error){console.error(\"Error:\",error);});}function deleteData(data){fetch(\"http://localhost:9000/removeitem\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(data)}).then(function(response){return response.json();}).then(function(data){var sortedActivities=data.sort(function(a,b){return new Date(b.date)-new Date(a.date);});var spendingMonth=sortedActivities.filter(function(item,i){return new Date(item.date).getMonth()===moment().month();});setItems(spendingMonth);}).catch(function(error){console.error(\"Error:\",error);});}var groceries=GetItemsByType(items,\"Groceries\");var car=GetItemsByType(items,\"Car\");var house=GetItemsByType(items,\"House\");var other=GetItemsByType(items,\"Other\");var handleChange=function handleChange(event,newValue){setValue(newValue);};var handleChangeIndex=function handleChangeIndex(index){setValue(index);};return/*#__PURE__*/React.createElement(\"div\",{className:classes.root},/*#__PURE__*/React.createElement(Total,{items:items,incomming:incomming}),/*#__PURE__*/React.createElement(AppBar,{position:\"static\",color:\"default\"},/*#__PURE__*/React.createElement(Tabs,{value:value,onChange:handleChange,indicatorColor:\"primary\",textColor:\"primary\",variant:\"fullWidth\",\"aria-label\":\"full width tabs example\"},/*#__PURE__*/React.createElement(Tab,Object.assign({label:\"Groceries\"},a11yProps(0))),/*#__PURE__*/React.createElement(Tab,Object.assign({label:\"Car\"},a11yProps(1))),/*#__PURE__*/React.createElement(Tab,Object.assign({label:\"House\"},a11yProps(2))),/*#__PURE__*/React.createElement(Tab,Object.assign({label:\"Other\"},a11yProps(3))))),/*#__PURE__*/React.createElement(SwipeableViews,{axis:theme.direction===\"rtl\"?\"x-reverse\":\"x\",index:value,onChangeIndex:handleChangeIndex},/*#__PURE__*/React.createElement(TabPanel,{value:value,index:0,dir:theme.direction},/*#__PURE__*/React.createElement(AddItemButton,{handleSubmit:handleSubmit,type:\"Groceries\"},\"Add Item\"),/*#__PURE__*/React.createElement(MaterialTable,{items:groceries,updateData:updateData,deleteData:deleteData,handleSubmit:handleSubmit}),/*#__PURE__*/React.createElement(Paper,{className:\"border m-3\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"text-center p-2\"},\"Total: \",GetTotal(groceries)))),/*#__PURE__*/React.createElement(TabPanel,{value:value,index:1,dir:theme.direction},/*#__PURE__*/React.createElement(AddItemButton,{handleSubmit:handleSubmit,type:\"Car\"},\"Add Item\"),/*#__PURE__*/React.createElement(MaterialTable,{items:car,updateData:updateData,deleteData:deleteData,handleSubmit:handleSubmit}),/*#__PURE__*/React.createElement(Paper,{className:\"border m-3\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"text-center p-2\"},\"Total: \",GetTotal(car)))),/*#__PURE__*/React.createElement(TabPanel,{value:value,index:2,dir:theme.direction},/*#__PURE__*/React.createElement(AddItemButton,{handleSubmit:handleSubmit,type:\"House\"},\"Add Item\"),/*#__PURE__*/React.createElement(MaterialTable,{items:house,updateData:updateData,deleteData:deleteData,handleSubmit:handleSubmit}),/*#__PURE__*/React.createElement(Paper,{className:\"border m-3\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"text-center p-2\"},\"Total: \",GetTotal(house)))),/*#__PURE__*/React.createElement(TabPanel,{value:value,index:3,dir:theme.direction},/*#__PURE__*/React.createElement(AddItemButton,{handleSubmit:handleSubmit,type:\"Other\"},\"Add Item\"),/*#__PURE__*/React.createElement(MaterialTable,{items:other,updateData:updateData,deleteData:deleteData,handleSubmit:handleSubmit}),/*#__PURE__*/React.createElement(Paper,{className:\"border m-3\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"text-center p-2\"},\"Total: \",GetTotal(other))))));}","map":{"version":3,"sources":["/Users/edgarspuce/React/heroku-spending-app/client/src/OldVersion/Components/MaterialTabs.js"],"names":["React","useState","useEffect","SwipeableViews","makeStyles","useTheme","AppBar","Tabs","Tab","Typography","Box","MaterialTable","Total","GetTotal","Paper","AddItemButton","GetItemsByType","getData","moment","TabPanel","props","children","value","index","other","a11yProps","id","useStyles","theme","root","backgroundColor","palette","background","paper","MaterialTabs","classes","setValue","items","setItems","incomming","console","log","then","val","month","spendingMonth","filter","item","i","Date","date","getMonth","addData","data","fetch","method","headers","body","JSON","stringify","response","json","sortedActivities","sort","a","b","catch","error","handleSubmit","idArray","map","maxId","Math","max","updateData","deleteData","groceries","car","house","handleChange","event","newValue","handleChangeIndex","direction"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport SwipeableViews from \"react-swipeable-views\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Box from \"@material-ui/core/Box\";\nimport MaterialTable from \"./MaterialTable\";\nimport Total, { GetTotal } from \"../Utilities/Total\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { AddItemButton } from \"../ModalButtons\";\nimport { GetItemsByType } from \"../Utilities/Functions\";\nimport { getData } from \"../Data/ApiCalls\";\nimport moment from \"moment\";\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`full-width-tabpanel-${index}`}\n      aria-labelledby={`full-width-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3}>\n          <Typography>{children}</Typography>\n        </Box>\n      )}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `full-width-tab-${index}`,\n    \"aria-controls\": `full-width-tabpanel-${index}`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    backgroundColor: theme.palette.background.paper,\n    // width: 900,\n  },\n}));\n\nexport default function MaterialTabs() {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [value, setValue] = useState(0);\n\n  const [items, setItems] = useState([]);\n  const incomming = 1500;\n\n  useEffect(() => {\n    console.log('est');\n    getData().then((val) => {\n      console.log(moment().month());\n      const spendingMonth = val.filter((item, i) => {\n        return new Date(item.date).getMonth() === moment().month();\n      });\n      setItems(spendingMonth);\n    });\n  }, []);\n\n  function addData(data) {\n    fetch(\"http://localhost:9000/additem\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(data),\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        const sortedActivities = data.sort(\n          (a, b) => new Date(b.date) - new Date(a.date)\n        );\n        const spendingMonth = sortedActivities.filter((item, i) => {\n          return new Date(item.date).getMonth() === moment().month();\n        });\n        setItems(spendingMonth);\n      })\n      .catch((error) => {\n        console.error(\"Error:\", error);\n      });\n  }\n  function handleSubmit(item) {\n    let idArray = items.map((item) => {\n      return item.id;\n    });\n\n    var maxId = Math.max(...idArray);\n    item.id = maxId + 1;\n\n    addData(item);\n  }\n\n  function updateData(data) {\n    fetch(\"http://localhost:9000/updateitem\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(data),\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        const sortedActivities = data.sort(\n          (a, b) => new Date(b.date) - new Date(a.date)\n        );\n\n        const spendingMonth = sortedActivities.filter((item, i) => {\n          return new Date(item.date).getMonth() === moment().month();\n        });\n        setItems(spendingMonth);\n      })\n      .catch((error) => {\n        console.error(\"Error:\", error);\n      });\n  }\n\n  function deleteData(data) {\n    fetch(\"http://localhost:9000/removeitem\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(data),\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        const sortedActivities = data.sort(\n          (a, b) => new Date(b.date) - new Date(a.date)\n        );\n        const spendingMonth = sortedActivities.filter((item, i) => {\n          return new Date(item.date).getMonth() === moment().month();\n        });\n        setItems(spendingMonth);\n      })\n      .catch((error) => {\n        console.error(\"Error:\", error);\n      });\n  }\n\n  const groceries = GetItemsByType(items, \"Groceries\");\n\n  const car = GetItemsByType(items, \"Car\");\n\n  const house = GetItemsByType(items, \"House\");\n\n  const other = GetItemsByType(items, \"Other\");\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  const handleChangeIndex = (index) => {\n    setValue(index);\n  };\n\n  return (\n    <div className={classes.root}>\n      <Total items={items} incomming={incomming} />\n      <AppBar position=\"static\" color=\"default\">\n        <Tabs\n          value={value}\n          onChange={handleChange}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          variant=\"fullWidth\"\n          aria-label=\"full width tabs example\"\n        >\n          <Tab label=\"Groceries\" {...a11yProps(0)} />\n          <Tab label=\"Car\" {...a11yProps(1)} />\n          <Tab label=\"House\" {...a11yProps(2)} />\n          <Tab label=\"Other\" {...a11yProps(3)} />\n        </Tabs>\n      </AppBar>\n      <SwipeableViews\n        axis={theme.direction === \"rtl\" ? \"x-reverse\" : \"x\"}\n        index={value}\n        onChangeIndex={handleChangeIndex}\n      >\n        <TabPanel value={value} index={0} dir={theme.direction}>\n          <AddItemButton handleSubmit={handleSubmit} type=\"Groceries\">\n            Add Item\n          </AddItemButton>\n          <MaterialTable\n            items={groceries}\n            updateData={updateData}\n            deleteData={deleteData}\n            handleSubmit={handleSubmit}\n          />\n          <Paper className=\"border m-3\">\n            <h3 className=\"text-center p-2\">Total: {GetTotal(groceries)}</h3>\n          </Paper>\n        </TabPanel>\n        <TabPanel value={value} index={1} dir={theme.direction}>\n          <AddItemButton handleSubmit={handleSubmit} type=\"Car\">\n            Add Item\n          </AddItemButton>\n          <MaterialTable\n            items={car}\n            updateData={updateData}\n            deleteData={deleteData}\n            handleSubmit={handleSubmit}\n          />\n          <Paper className=\"border m-3\">\n            <h4 className=\"text-center p-2\">Total: {GetTotal(car)}</h4>\n          </Paper>\n        </TabPanel>\n        <TabPanel value={value} index={2} dir={theme.direction}>\n          <AddItemButton handleSubmit={handleSubmit} type=\"House\">\n            Add Item\n          </AddItemButton>\n          <MaterialTable\n            items={house}\n            updateData={updateData}\n            deleteData={deleteData}\n            handleSubmit={handleSubmit}\n          />\n          <Paper className=\"border m-3\">\n            <h4 className=\"text-center p-2\">Total: {GetTotal(house)}</h4>\n          </Paper>\n        </TabPanel>\n        <TabPanel value={value} index={3} dir={theme.direction}>\n          <AddItemButton handleSubmit={handleSubmit} type=\"Other\">\n            Add Item\n          </AddItemButton>\n          <MaterialTable\n            items={other}\n            updateData={updateData}\n            deleteData={deleteData}\n            handleSubmit={handleSubmit}\n          />\n          <Paper className=\"border m-3\">\n            <h4 className=\"text-center p-2\">Total: {GetTotal(other)}</h4>\n          </Paper>\n        </TabPanel>\n      </SwipeableViews>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}